<!DOCTYPE html>
<html ng-app="app">
<head>
    <title>MPD All Access</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="js/bundle.js"></script>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/angular-material.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <base href="/">
</head>
<body>

<div ng-controller="SearchController">

<md-toolbar class="md-hue-2">
  <div class="md-toolbar-tools">
	<form id="search" ng-submit="search()">
		<input type="text" value="{{query}}" ng-model="query" placeholder="Search" select-on-click />
		<button type="submit"><i class="material-icons">search</i></button>
	</form>
  </div>
</md-toolbar>

<h2 ng-show="artists.length">Artists</h2>
<div ng-show="artists.length" class="md-padding" layout="row" layout-wrap>
  <md-card ng-repeat="entry in artists = (entries | filter:{type:'2'}) | limitTo: 4" ng-click="artist(entry.artist.artistId)">
	<img ng-src="{{entry.artist.artistArtRef}}" class="md-card-image" alt="{{entry.artist.name}}">
	<md-card-title>
	  <md-card-title-text>
		<span class="md-headline">{{entry.artist.name}}</span>
	  </md-card-title-text>
	</md-card-title>
  </md-card>
</div>

<h2 ng-show="albums.length">Albums</h2>
<div ng-show="albums.length" class="md-padding" layout="row" layout-wrap>
  <md-card class="album-card" ng-repeat="entry in albums = (entries | filter:{type:'3'}) | limitTo: 6" ng-click="album(entry.album.albumId)">
	<img ng-src="{{entry.album.albumArtRef}}" class="md-card-image" alt="{{entry.album.name}}">
	<md-card-title>
	  <md-card-title-text>
		<span class="md-headline">{{entry.album.name}}</span>
		<span class="md-subhead">{{entry.album.albumArtist}}</span>
	  </md-card-title-text>
	</md-card-title>
  </md-card>
</div>

<div ng-show="tracks.length" class="md-padding">
	<h2>Songs</h2>
	<section class="md-whiteframe-1dp">
	<table id="table" class="display" >
		<tbody>
			<tr id="{{entry.track.storeId}}" ng-repeat="entry in tracks = (entries | filter:{type:'1'})">
				<td style="display:none;">{{entry.track.score}}</td>
				<td><a href ng-click="artist(entry.track.artistId)">{{entry.track.artist}}</a></td>
				<td>{{entry.track.title}}<div><a href ng-click="album(entry.track.albumId)">{{entry.track.album}}</a>&nbsp;({{entry.track.year}})</div></td>
				<td style="width:1px;white-space:nowrap;">
					<md-menu>
					  <md-button aria-label="Open actions menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                        <i class="material-icons">more_vert</i>
					  </md-button>
					  <md-menu-content width="4">
						<md-menu-item>
						  <md-button ng-click="load(entry.track.storeId,'play','track')">
                            <i class="material-icons">play_arrow</i>
							Play Track
						  </md-button>
						</md-menu-item>
						<md-menu-item>
						  <md-button ng-click="load(entry.track.storeId,'add','track')">
                            <i class="material-icons">add</i>
							Add Track
						  </md-button>
						</md-menu-item>
						<md-menu-item>
						  <md-button ng-click="load(entry.track.albumId,'play','album')">
                            <i class="material-icons">playlist_play</i>
							Play Album
						  </md-button>
						</md-menu-item>
						<md-menu-item>
						  <md-button ng-click="load(entry.track.albumId,'add','album')">
                            <i class="material-icons">playlist_add</i>
							Add Album
						  </md-button>
						</md-menu-item>
						<md-menu-item>
						  <md-button ng-click="load(entry.track.storeId,'play','radio')">
                            <i class="material-icons">radio</i>
							Play Radio
						  </md-button>
						</md-menu-item>
					  </md-menu-content>
					</md-menu>
				</td>
			</tr>
		</tbody>
	</table>
	</section>
</div>

</div>

</body>
</html>
