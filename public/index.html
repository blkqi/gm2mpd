<!DOCTYPE html>
<html ng-app="app">
<head>
    <title>MPD All Access</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="js/bundle.js"></script>
    <script src="https://use.fontawesome.com/2f2f714e84.js"></script>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/angular-material.css">
    <link type="text/css" rel="stylesheet" href="css/jquery.contextMenu.min.css">
    <link href="https://fonts.googleapis.com/css?family=Gentium+Basic" rel="stylesheet">
    <base href="/">
</head>
<body>

<div ng-controller="SearchController">

<md-content>

    <md-toolbar class="md-hue-2">
      <div class="md-toolbar-tools">
		<form id="search" ng-submit="search()">
			<input type="text" value="{{query}}" ng-model="query" placeholder="Search" select-on-click />
			<button type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
		</form>
      </div>
    </md-toolbar>
    
</md-content>

<h2 ng-show="artists.length">Artists</h2>
<div ng-show="artists.length" class='md-padding' layout="row" layout-wrap>
	
      <md-card ng-repeat="entry in artists = (entries | filter:{type:'2'})" ng-click="artist(entry.artist.artistId)">
        <img ng-src="{{entry.artist.artistArtRef}}" class="md-card-image" alt="{{entry.artist.name}}">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">{{entry.artist.name}}</span>
          </md-card-title-text>
        </md-card-title>
      </md-card>

</div>

<h2 ng-show="albums.length">Albums</h2>
<div ng-show="albums.length" class='md-padding' layout="row" layout-wrap>
	
      <md-card ng-repeat="entry in albums = (entries | filter:{type:'3'})" ng-click="album(entry.album.albumId)" style="width:200px;overflow:hidden;text-overflow:ellipsis;">
        <img ng-src="{{entry.album.albumArtRef}}" class="md-card-image" alt="{{entry.album.name}}">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline" style="white-space:nowrap;">{{entry.album.name}}</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <p>
            {{entry.album.year}} // {{entry.album.albumArtist}}
          </p>
        </md-card-content>
      </md-card>

</div>

<div ng-show="tracks.length">
	<h2>Songs</h2>
	<table id="table" class="display" >
	<tbody>
		<tr id="{{entry.track.storeId}}" ng-repeat="entry in tracks = (entries | filter:{type:'1'})">
			<td style="display:none;">{{entry.track.score}}</td>
			<td><a href ng-click="artist(entry.track.artistId)">{{entry.track.artist}}</a></td>
			<td>{{entry.track.title}}<div><a href ng-click="album(entry.track.albumId)">{{entry.track.album}}</a>&nbsp;({{entry.track.year}})</div></td>
			<td style="width:1px;white-space:nowrap;">
				<button class="btn track" ng-click="load(entry.track.storeId,'addv')">
					<i class="fa fa-plus" aria-hidden="true"></i>
				</button>
				<button class="btn track" ng-click="load(entry.track.storeId,'play')">
					<i class="fa fa-play" aria-hidden="true"></i>
				</button>
				<button context-menu class="context-menu-one btn btn-neutral" data-id="{{entry.track.albumId}}" data-album="{{entry.track.albumId}}" data-track="{{entry.track.storeId}}" data-artist="{{entry.track.artistId}}">
					<i class="fa fa-ellipsis-v" aria-hidden="true"></i>
				</button>
			</td>
		</tr>
	</tbody>
	</table>
</div>

</div>

</body>
</html>
